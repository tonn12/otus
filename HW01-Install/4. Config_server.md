1. Меняем параметры сервера
ALTER SYSTEM SET shared_buffers            = '2GB';
ALTER SYSTEM SET effective_cache_size      = '6GB';
ALTER SYSTEM SET work_mem                  = '8MB';
ALTER SYSTEM SET max_parallel_workers             = '8';
ALTER SYSTEM SET max_parallel_workers_per_gather  = '4';
ALTER SYSTEM SET random_page_cost          = '1.1';
ALTER SYSTEM SET effective_io_concurrency  = '200';
ALTER SYSTEM SET wal_buffers               = '16MB';
ALTER SYSTEM SET synchronous_commit        = 'off';
ALTER SYSTEM SET fsync                     = 'off';
ALTER SYSTEM SET full_page_writes          = 'off';
ALTER SYSTEM SET checkpoint_timeout       = '30min';
ALTER SYSTEM SET max_wal_size             = '16GB';
SELECT pg_reload_conf();

2. Делаем рестарт кластера сервера
pg_ctl reload -D "$PGDATA"

2. Проверяем что парметры применились.
SELECT 
  name,
  setting,
  unit
FROM pg_settings
WHERE name IN (
  'work_mem',
  'maintenance_work_mem',
  'min_wal_size',
  'max_wal_size',
  'checkpoint_completion_target',
  'wal_buffers',
  'max_connections',
  'random_page_cost',
  'effective_io_concurrency',
  'max_worker_processes',
  'max_parallel_workers_per_gather',
  'max_parallel_workers'
)
ORDER BY name;